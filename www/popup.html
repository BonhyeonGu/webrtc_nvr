<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Third Eye</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="format-detection" content="telephone=no,address=no,email=no">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link rel="shortcut icon" href="">
    
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="./resources/css/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
    $(document).ready(function() {
    });
    function toggleFullScreen() {
    	  if (!document.fullscreenElement) {
    	    document.documentElement.requestFullscreen()
    	  } else {
    	    if (document.exitFullscreen) {
    	      document.exitFullscreen()
    	    }
    	  }
    	}
    </script>
</head>
<body>
    <div id="u_skip">
		<a href="#content">본문바로가기</a>
	</div>

    <div id="wrap" class="popup">
    	<div class="modal_wrap" style="display: none">
    		<div class="modal">    		
				<div class="title">상황보고</div>
				<div class="cont"><textarea rows="" cols="" placeholder="처리 결과를 입력하세요."></textarea></div>
				<div class="btnArea"><button onclick="closePopup()">취소</button><button>저장</button></div>
			</div>
		</div>
		
        <header>
            <div class="header_wrap">
                <h1><div class="icon"><span class="material-symbols-outlined">notifications_active</span></div> <span class="strong">화재발생</span>이 감지되었습니다.</h1>
            </div>
        </header>
        <div id="container">
            <div class="event_summary">
            <dl>
                <dt>감지 이벤트</dt>
                <dd>화재발생</dd>
                <dt>발생 시간</dt>
                <dd>2023-05-24 13:39:42</dd>
                <dt>카메라</dt>
                <dd></dd>
                <dt>정확도</dt>
                <dd>96%</dd>
                <dt>발생 위치</dt>
                <dd></dd>
                <dt>사람 수</dt>
                <dd>1</dd>
            </dl>
            </div>
            <div class="camera_layout camera_1x1">
                <div class="camera">
                    <div class="camera_info">
                        <h3>카메라3번 / 1층 정문</h3>
                        <div class="buttons">
                            <button type="button" class="btn_camera"><span class="material-icons-outlined">file_download</span></button>
                            <button type="button" class="btn_camera"><span class="material-icons-outlined">photo_camera</span></button>
                            <button type="button" class="btn_camera"><span class="material-icons-outlined">warning</span></button>
                        </div>
                    </div>
                    <div class="rec_time">2023/05/15  10:36:24 AM</div>
                    <div class="camera_view" id="re0">
                        <video id="vid_html5_api" autoplay="" muted="muted" data-setup="{}" tabindex="-1" src="./resources/movies/C050105_003_output.mp4">
                            <source src="./resources/movies/C050105_003_output.mp4" type="application/x-mpegURL">
                        </video>
                    </div>
                </div>
            </div>
        </div>
        <footer>
            <button id="fullScreen" type="button" onClick="javascript:toggleFullScreen()">전체화면</button><button>유관기관 신고</button><button id="btn03" onclick="openPopup()">상황보고</button>
        </footer>
    </div>
    <script type="module" src="./video-stream.js"></script>
    <script>
 	// Function to open the popup
     //const params = new URLSearchParams(location.search);
    
     //const streams = params.getAll("src");
     //console.log(streams)
     //const modes = params.getAll("mode");
     //console.log(modes)
     //if (modes.length === 0) modes.push("");
 
     //while (modes.length > streams.length) {
     //    streams.push(streams[0]);
     //}
     //while (streams.length > modes.length) {
     //    modes.push(modes[0]);
     //}
 
     //if (streams.length > 1) {
     //    document.body.className = "flex";
     //}
 
     //const background = params.get("background") !== "false";
     //const width = "1 0 " + (params.get("width") || "720px");
 

    /** @type {VideoStream} */
    //const video = document.createElement("video-stream");
    //var camera_view = document.getElementById(streams[0]);
    //video.background = background;
    //video.mode = modes[0] || video.mode;
    //video.style.flex = width;
    //video.src = new URL("api/ws?src=" + encodeURIComponent(streams[0]), location.href);
    //document.body.appendChild(video);
    //console.log(camera_view, streams[0])
    //camera_view.appendChild(video);
     

    function openPopup() {
      document.querySelector('.modal_wrap').style.display = 'flex';
    }
    
    // Function to close the popup
    function closePopup() {
      document.querySelector('.modal_wrap').style.display = 'none';
    }
    
    // Event listener to trigger the popup when the link is clicked
    document.querySelector('#btn03').addEventListener('click', function(event) {
      event.preventDefault(); // Prevent the default link behavior
      openPopup();
    });
    </script>
</body>
</html>